<div>
	<% submitted_word = @word %>
	<% keyword = @keyword%>
	<% syn_list =  @synonym_list %>
	<table class="vote_table" style="margin-bottom: 20px;">
		<tr>
			<td>
			<% if syn_list.size > 0 %>
				<% if I18n.locale == :ar %>
				<p id="text" class="text_arabic" > من فضلك اختر معني لكلمة:</p></br>
				<% end %>
				<% if I18n.locale == :en %>
				<p id="text" class="text_english" > please choose a translation for the word:</p></br>
				<% end %>
			<% end %>
			<% if syn_list.blank? %>
				<% if I18n.locale == :ar %>
				<p id="text" class="text_arabic" > من فضلك ادخل معني مناسب لكلمة:</p></br>
				<% else %>
				<p id="text" class="text_english" > please enter a translation for the word:</p></br>
				<% end %>
			<% end %>
			</td>
		<tr>
			<td>
				<p style="font-weight:bold; text-align:center;" >"<%= submitted_word %>"</p>
			</td>		
		</tr>
	</table>
	<table class="vote_table">
		<% j = 0 %>
		<% while syn_list.size>0  && j<syn_list.length %>
		<tr>
			<td style="width:350px; text-align:center;">
				<button data-trigger="manual" data-content="<%= t(:formal_or_slang) %>" data-title="<button type='button' class='close' data-dismiss='modal' aria-hidden='true' onclick='destroy(this.id)'>×</button>" data-placement="bottom" class="btn btn-success" id="synonym_button<%=j%>" data-html="true" type="submit" onclick="check_formality('<%= syn_list[j].id%>', '<%= syn_list[j].is_formal %>','<%= j %>')"><%= syn_list[j].name %></button>
				<% j = j+1 %>
			</td>
			<td style="width:350px; text-align:center;">
				<% if j<syn_list.length %>
					<button data-trigger="manual" data-content="<%= t(:formal_or_slang) %>" data-title="<button type='button' class='close' data-dismiss='modal' aria-hidden='true' onclick='destroy(this.id)'>×</button>" data-placement="bottom" class="btn btn-success" id="synonym_button<%=j%>" data-html="true" type="submit" onclick="check_formality('<%= syn_list[j].id%>', '<%= syn_list[j].is_formal %>','<%= j %>')"><%= syn_list[j].name %></button>
					<% j = j+1 %>
				<% end  %>
			</td>
		</tr>
		<% end %>
	</table>
	<table class="vote_table">
		<tr>
			<td style="text-align:center; width:230px;">
				<input type="text" id="suggest_synonym_textbox" placeholder="<%= t(:enter_a_synonym)%>" >
			</td>
			<td style="text-align:center; width:230px;">
				<select style="width:120px;" id="select_formality">
					<option value="formal"><%= t(:formal) %></option>
					<option value="slang"><%= t(:slang) %></option>
				</select>
			</td>
			<td style="text-align:center; width:230px;">
				<button class="btn btn-primary" type="submit" id="suggest_synonym_button" onclick="suggest_synonym_to_word(<% if keyword %><%= keyword.id %><% end %>);"><%= t(:suggest_this_synonym)%></button>
			</td>
		</tr>
		<tr>
			<td colspan="2" style="width:460px; height: 100px;">
				<div id="vote_error_messages"></div>
			</td>
			<td></td>
		</tr>
		<tr>
			<td style="width:230px;"></td>
			<td style="width:230px;"></td>
			<td style="width:230px; text-align:center;">
				<button class="btn btn-primary"  id="skip_button" type="submit" onclick="skip_keyword()"><%= t(:skip_this_keyword) %></button>
			</td>
		</tr>
	</table>
</div>
<script type="text/javascript">
function check_formality(syn_id, syn_is_formal,j){
	if(syn_is_formal == "true" || syn_is_formal == "false" ){
		record_vote(syn_id);
	}
	else{
		$('#synonym_button0').popover('destroy');
		$('#synonym_button1').popover('destroy');
		$('#synonym_button2').popover('destroy');
		$('#synonym_button3').popover('destroy');
		this_id = 'synonym_button'+j;
		var title = []
		title.push("<span style='font-weight:bold; font-size:20px; text-align:center;'><%= t(:is_this_translation)%>");
		title.push("<button type='button' class='close' data-dismiss='modal' aria-hidden='true' onclick='hide()'>×</button></p>");
		title.join();
		$('#synonym_button'+j).popover({'title':title});
		$('#synonym_button'+j).popover('show');
	}
}
function hide(){
	$('#synonym_button0').popover('destroy');
	$('#synonym_button1').popover('destroy');
	$('#synonym_button2').popover('destroy');
	$('#synonym_button3').popover('destroy');

}
</script>
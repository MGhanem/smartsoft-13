<script type="text/javascript" charset="utf-8">
  
  function display(clicked_id)
  {
    if(clicked_id == 1)
    {
      $("#all").empty();
      $.get("mainhalloffame.html", function(data){
          $("#all").append(data);
        });
    }
    else
    {
      if(clicked_id == 2)
      {
        $("#all").empty();
        $.get("facebookhalloffame.html", function(data){
          $("#all").append(data);
        });
      }
      else
      {
        $("#all").empty();
        $.get("twitterhalloffame.html", function(data){
          $("#all").append(data);
        });
      }
    }
  }

</script>

<div id="main" class="btn-group" data-toggle="buttons-radio">
  <h2><%= t(:hall_of_fame) %></h2>
  <button id = "1" type="button" class="btn btn-primary" data-toggle="button" onclick="display(this.id)">
    <%= t(:your_rank) %></button>
  <button id = "2" type="button" class="btn btn-primary" data-toggle="button" onclick="display(this.id)">
    <%= t(:your_facebook_friends) %></button>
  <button id = "3" type="button" class="btn btn-primary" data-toggle="button" onclick="display(this.id)">
    <%= t(:your_twitter_friends) %></button>
</div>

<div id="all">
  <table class="table">
    <thead align="center" style="font-weight:bold;">
      <tr>
        <td><%= t(:rank) %></td>
        <td><%= t(:name) %></td>
        <td><%= t(:highest_score) %></td>
        <td><%= t(:trophies) %></td>
      </tr>
    </thead>
    <tbody align="center">
      <% @gamers = Gamer.find(:all, order: "highest_score DESC", limit:10) %>
      <% rank = 0 %>
      <% @gamers.each do |user| %>
      <% if user == current_gamer %>
      <tr style="background-color: #DDDDDD">
      <% else %>
      <tr>
      <% end %>
        <td><%= rank = rank + 1 %></td>
        <td><%= user.username %></td>
        <td><%= user.highest_score %></td>
        <% @Trophies = Gamers_Trophy.find_by_gamer_id(user.id) %>
        <td>
          <% if @Trophies.nil? %>
          <p><%= t(:no_trophies) %></p>
          <% else %>
          <%= @Trophies.trophy_id %>
          <% end %>
        </td>
      </tr>
      <br>
      <% end %>
    </tbody>
  </table>
</div>